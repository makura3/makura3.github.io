---
title: Vue.jsの基本のキ 導入方法からコンパイラについてのまとめ
# thumbnail: thumbnail.png
date: 2018-05-14 19:50:19
description:
category: Vue
id: vue-summary
tags:
  - Vue
---

諸事情でVue.jsを触ることになったのでまずはドキュメントの読み込みからはじめました。  
完全に理解出来ているのかどうかを確認するため、内容を忘れないためにも記事としてまとめました。  
<br>
ちなみに`今のVue熟練度は1`(過去にチュートリアルレベルの作品を途中で投げ出した)です。  

<!-- toc -->

## はじめに
この記事は`超初心者向け`の記事となっています。  
実際にソースを書く前に基本的な知識をつけておきたいという気持ちから出来上がっています。  
<br>
Vueは日本語のドキュメントがあるのですが、その中でも「結局どういうことなの？」と思った部分について書いています。

## Vue.jsとは
公式のガイドに大きく、  
> ユーザーインターフェイスを構築するためのプログレッシブフレームワークです。  

と記載がありました。ふむふむ。

### プログレッシブフレームワーク
最初は小さい規模でイケてるアプリケーションだったのに、仕様変更や機能追加を繰り返すうちに気付いたら肥大化していた...なんて事はよく聞くと思います。  
メンテしきれなくなった結果、イチから作り直しという場合もあったりします。  
<br>
そのため我々開発者は、アプリケーションの変化に柔軟に対応できるツール（拡張性に優れ、メンテナンスしやすい）を選択したいと常々考えているのではないでしょうか。  
<br>
<br>
Vueではそれぞれのアプリケーション規模に合わせて柔軟に対応することが可能です。  
Vue自体はview層だけに焦点を当てたライブラリとなっていますが、  
[サポートライブラリ](https://github.com/vuejs/awesome-vue#components--libraries)などの導入により、より複雑で洗練されたアプリケーションの作成が可能となります。  
<br>
なんだかワクワクしてきましたね！

### 導入方法
環境構築は後にとっておき、まずVueを使うための[3種類の利用方法](https://jp.vuejs.org/v2/guide/installation.html)を確認しておきます。  
<br>

#### scriptタグで直接組み込む
開発モード/本番モードでファイルが分かれているので、状況に応じて[公式サイト](https://jp.vuejs.org/v2/guide/installation.html#lt-script-gt-%E7%9B%B4%E6%8E%A5%E7%B5%84%E3%81%BF%E8%BE%BC%E3%81%BF)からダウンロードし読み込んで下さい。  
開発モードのJSでは`警告出力とデバッグモードがあります`が、本番モードのJSでは`警告出力なしになり圧縮されています`。  
<br>
もしくは[CDN](https://jp.vuejs.org/v2/guide/installation.html#CDN)を使用することでVueのソースが参照可能になります。  

#### CLI
Vueでは[オフィシャルCLI](https://github.com/vuejs/vue-cli)が用意されています。  
すぐに環境構築ができるので楽なのですが、右も左も分からない初心者さん(私)にはオススメしていないのでこんなのもあるよぐらいにしておきます。  

#### NPM
公式サイトでも推奨されている方法です。  
Vueのみのインストールは公式に記述されている通りで問題ないですが、加えて使用するモジュールバンドラにあったloaderなどをインストールする必要があります。
```js
// vueだけインストール
npm i -S vue

// webpackを使う場合
npm i -D vue-loader
```

私もこの方法を使用しています。

## さまざまなビルドについて

コンパイルについて詳しく解説する前に、まずVueのテンプレート構文について説明します。  
事前にどのように記述が出来るのか知っておくことで、後述するコンパイルについて理解し易くなると思います。

#### テンプレート文字列
[公式の一番最初](https://jp.vuejs.org/v2/guide/#%E3%82%B3%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%8D%E3%83%B3%E3%83%88%E3%81%AB%E3%82%88%E3%82%8B%E6%A7%8B%E6%88%90)にスッと出てくる記述です。  
文字列でコンポーネントを定義するようです。  
```js
Vue.component('todo-item', {
  template: '<li>This is a todo</li>'
})
``` 

#### 直接render関数で書く
こちらはrender関数に直接定義しています。  
```js
Vue.component('anchored-heading', {
  render: function (createElement) {
    return createElement( 'h' + this.level )
  },
  props: {
    //省略
  }
})
```  

#### 単一ファイルコンポーネント
こちらはどうでしょうか。  
```xml
<template>
  <div>Hello world!!</div>
</template>

<script>
// 省略
</script>

<style>
<!-- 省略 -->
</style>
```
[単一ファイルコンポーネント](https://jp.vuejs.org/v2/guide/single-file-components.html)の説明でよくあるHello world的なアレです。  
templateの部分とscript、styleの部分が分離されており、非常に分かりやすいと思います。  
全部同じファイルに書くなんて嫌！なんていう人は、更に分離できるみたいです。  
<br>

### テンプレートのコンパイル
 
> DOM内のテンプレートまたはJavaScript内のテンプレート文字列を使用する場合、テンプレートから描画関数へのコンパイルはその場 (on the fly) で実行されます。  
>通常、ほとんどの場合、これは十分高速ですが、アプリケーションのパフォーマンスが重要な場合は避けるのが最善です。  
  
<br>
前提としてVueは画面上に描画を行う際、rendar関数(描画関数)を使用します。  
そのためテンプレート文字列を使用した場合は、rendar関数が読み取れるようにコンパイルを行う必要となります。  
このコンパイルをするタイミングはブラウザ上で実行した瞬間となります。  
ということは、このコンパイルを行うタイミングを変えることでパフォーマンスの向上が期待されます。  

どうやらVueはテンプレートの書き方によって実行速度が変わるようでした。 

### ビルドの種類

#### 完全ビルド
こちらはコンパイラとランタイムの両方が含まれたビルドになります。 
前述したコンポーネントを文字列で定義した場合はこの完全ビルドを行う必要があります。

#### ランタイム限定ビルド
こちらは

### 完全ビルドとランタイム限定ビルドの違い
`vue-loader`などを使用した場合、テンプレートは事前にJavaScriptへコンパイルされるためブラウザなどの実行環境ではコンパイラは必要ありません。  
よって、コンパイラが入っていないランタイム限定ビルドが出来れば問題ないのです。  
ランタイム限定ビルドは完全ビルドに比べて30%ほど軽量とのことなので、ぜひ取り入れていきたいですね。  
<br>
ちなみにCDNからVueを導入した場合は、完全ビルド用のvue.jsが読み込まれます。

<!-- https://jp.vuejs.org/v2/guide/deployment.html#%E3%83%86%E3%83%B3%E3%83%97%E3%83%AC%E3%83%BC%E3%83%88%E3%81%AE%E3%83%97%E3%83%AA%E3%82%B3%E3%83%B3%E3%83%91%E3%82%A4%E3%83%AB -->



## ドキュメントを読み込んでみて
Vueは珍しく日本語ドキュメントが用意されているものの、読んでいるとどういう意味だろう？と思う点が何度もありました。  

次は実際に環境構築〜小さいアプリケーションの作成までしてみようと思います。